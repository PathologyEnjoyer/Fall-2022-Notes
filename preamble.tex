% Choomno Moos
% Portland State University
% Choom@pdx.edu


%% stupid experiment %%
%%%%%%%%%%%%% PACKAGES %%%%%%%%%%%%%

%%%% SYMBOLS AND MATH %%%%
\let\oldvec\vec
\usepackage{authblk}	% author block customization
\usepackage{microtype}	% makes stuff look real nice
\usepackage{amssymb} 	% math symbols
\usepackage{siunitx} 	% for SI units, and the degree symbol
\usepackage{mathrsfs}	% provides script fonts like mathscr
\usepackage{mathtools}	% extension to amsmath, also loads amsmath
\usepackage{esint}		% extended set of integrals
\mathtoolsset{showonlyrefs} % equation numbers only shown when referenced
\usepackage{amsthm}		% theorem environments
\usepackage{relsize}	%font size commands
\usepackage{bm}			% provides bold math
\usepackage{bbm}		% for blackboard bold 1

%%%% FIGURES %%%%
\usepackage{graphicx} % for including pictures
\usepackage{float} % allows [H] option on figures, so that they appear where they are typed in code
\usepackage{caption}
\usepackage{hyperref}
%\usepackage{titling}
\usepackage{tikz} % for drawing
\usetikzlibrary{shapes,arrows,chains,positioning,cd,decorations.pathreplacing,decorations.markings,hobby,knots,braids}
\usepackage{subcaption}	% subfigure environment in figures

%%%% MISC %%%%
\usepackage{enumitem} % for lists and itemizations
\setlist[enumerate]{leftmargin=*,label=\bf \arabic*.}

\usepackage{multicol}
\usepackage{multirow}
\usepackage{url}
\usepackage[symbol]{footmisc}
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\usepackage{lastpage} % provides the total number of pages for the "X of LastPage" page numbering
\usepackage{fancyhdr}
\usepackage{manfnt}
\usepackage{nicefrac}
%\usepackage{fontspec}
%\usepackage{polyglossia}
%\setmainlanguage{english}
%\setotherlanguages{khmer}
%\newfontfamily\khmerfont[Script=Khmer]{Khmer Busra}

%%% Khmer script commands for math %%%
%\newcommand{\ka}{\text{\textkhmer{ក}}}
%\newcommand{\ko}{\text{\textkhmer{ត}}}
%\newcommand{\kha}{\text{\textkhmer{ខ}}}

%\usepackage[
%backend=biber,
% numeric
%style=numeric,
% APA
%bibstyle=apa,
%citestyle=authoryear,
%]{biblatex}

\usepackage[explicit]{titlesec}
%%%%%%%% SOME CODE FOR REDECLARING %%%%%%%%%%

\makeatletter
\newcommand\RedeclareMathOperator{%
	\@ifstar{\def\rmo@s{m}\rmo@redeclare}{\def\rmo@s{o}\rmo@redeclare}%
}
% this is taken from \renew@command
\newcommand\rmo@redeclare[2]{%
	\begingroup \escapechar\m@ne\xdef\@gtempa{{\string#1}}\endgroup
	\expandafter\@ifundefined\@gtempa
	{\@latex@error{\noexpand#1undefined}\@ehc}%
	\relax
	\expandafter\rmo@declmathop\rmo@s{#1}{#2}}
% This is just \@declmathop without \@ifdefinable
\newcommand\rmo@declmathop[3]{%
	\DeclareRobustCommand{#2}{\qopname\newmcodes@#1{#3}}%
}
\@onlypreamble\RedeclareMathOperator
\makeatother

\makeatletter
\newcommand*{\relrelbarsep}{.386ex}
\newcommand*{\relrelbar}{%
	\mathrel{%
		\mathpalette\@relrelbar\relrelbarsep
	}%
}
\newcommand*{\@relrelbar}[2]{%
	\raise#2\hbox to 0pt{$\m@th#1\relbar$\hss}%
	\lower#2\hbox{$\m@th#1\relbar$}%
}
\providecommand*{\rightrightarrowsfill@}{%
	\arrowfill@\relrelbar\relrelbar\rightrightarrows
}
\providecommand*{\leftleftarrowsfill@}{%
	\arrowfill@\leftleftarrows\relrelbar\relrelbar
}
\providecommand*{\xrightrightarrows}[2][]{%
	\ext@arrow 0359\rightrightarrowsfill@{#1}{#2}%
}
\providecommand*{\xleftleftarrows}[2][]{%
	\ext@arrow 3095\leftleftarrowsfill@{#1}{#2}%
}
\makeatother

%%%%%%%% NEW COMMANDS %%%%%%%%%%

% settings
\newcommand{\N}{\mathbb{N}}                     	% Natural numbers
\newcommand{\Z}{\mathbb{Z}}                     	% Integers
\newcommand{\Q}{\mathbb{Q}}                     	% Rationals
\newcommand{\R}{\mathbb{R}}                     	% Reals
\newcommand{\C}{\mathbb{C}}                     	% Complex numbers
\newcommand{\K}{\mathbb{K}}							% Scalars
\newcommand{\F}{\mathbb{F}}                     	% Arbitrary Field
\newcommand{\E}{\mathbb{E}}                     	% Euclidean topological space
\renewcommand{\H}{{\mathbb{H}}}                   	% Quaternions / Half space
\newcommand{\RP}{{\mathbb{RP}}}                       % Real projective space
\newcommand{\CP}{{\mathbb{CP}}}                       % Complex projective space
\newcommand{\Mat}{{\mathrm{Mat}}}						% Matrix ring
\newcommand{\M}{\mathcal{M}}
\newcommand{\GL}{{\mathrm{GL}}}
\newcommand{\SL}{{\mathrm{SL}}}

\newcommand{\tgl}{\mathfrak{gl}}
\newcommand{\tsl}{\mathfrak{sl}}                  % Lie algebras; i.e., tangent space of SO/SL/SU
\newcommand{\tso}{\mathfrak{so}}
\newcommand{\tsu}{\mathfrak{sl}}


% typography
\newcommand{\noi}{\noindent}						% Removes indent
\newcommand{\tbf}[1]{\textbf{#1}}					% Boldface
\newcommand{\mc}[1]{\mathcal{#1}}               	% Calligraphic
\newcommand{\ms}[1]{\mathscr{#1}}               	% Script
\newcommand{\mbb}[1]{\mathbb{#1}}               	% Blackboard bold


% (in)equalities
\newcommand{\eqdef}{\overset{\mathrm{def}}{=}}		% Definition equals
\newcommand{\sub}{\subseteq}						% Changes default symbol from proper to improper
\newcommand{\psub}{\subset}						% Preferred proper subset symbol

% Categories
\newcommand{\catname}[1]{{\text{\sffamily {#1}}}}

\newcommand{\Cat}{{\catname{C}}}
\newcommand{\cat}[1]{{\catname{\ifblank{#1}{C}{#1}}}}
\newcommand{\CAT}{{\catname{Cat}}}
\newcommand{\Set}{{\catname{Set}}}

\newcommand{\Top}{{\catname{Top}}}
\newcommand{\Met}{{\catname{Met}}}
\newcommand{\PL}{{\catname{PL}}}
\newcommand{\Man}{{\catname{Man}}}
\newcommand{\Diff}{{\catname{Diff}}}

\newcommand{\Grp}{{\catname{Grp}}}
\newcommand{\Grpd}{{\catname{Grpd}}}
\newcommand{\Ab}{{\catname{Ab}}}
\newcommand{\Ring}{{\catname{Ring}}}
\newcommand{\CRing}{{\catname{CRing}}}
\newcommand{\Mod}{{\mhyphen\catname{Mod}}}
\newcommand{\Alg}{{\mhyphen\catname{Alg}}}
\newcommand{\Field}{{\catname{Field}}}
\newcommand{\Vect}{{\catname{Vect}}}
\newcommand{\Hilb}{{\catname{Hilb}}}
\newcommand{\Ch}{{\catname{Ch}}}

\newcommand{\Hom}{{\mathrm{Hom}}}
\newcommand{\End}{{\mathrm{End}}}
\newcommand{\Aut}{{\mathrm{Aut}}}
\newcommand{\Obj}{{\mathrm{Obj}}}
\newcommand{\op}{{\mathrm{op}}}

% Norms, inner products
\delimitershortfall=-1sp
\newcommand{\widecdot}{\, \cdot \,}
\newcommand\emptyarg{{}\cdot{}}
\DeclarePairedDelimiterX{\norm}[1]{\Vert}{\Vert}{\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX{\abs}[1]\vert\vert{\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX\inn[1]\langle\rangle{\ifblank{#1}{\emptyarg,\emptyarg}{#1}}
\DeclarePairedDelimiterX\cur[1]\{\}{\ifblank{#1}{\emptyarg,\emptyarg}{#1}}
\DeclarePairedDelimiterX\pa[1](){\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX\brak[1][]{\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX{\an}[1]\langle\rangle{\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX{\bra}[1]\langle\vert{\ifblank{#1}{\emptyarg}{#1}}
\DeclarePairedDelimiterX{\ket}[1]\vert\rangle{\ifblank{#1}{\emptyarg}{#1}}

% mathmode text operators
\RedeclareMathOperator{\Re}{\operatorname{Re}}		% Real part
\RedeclareMathOperator{\Im}{\operatorname{Im}}		% Imaginary part
\DeclareMathOperator{\Stab}{\mathrm{Stab}}
\DeclareMathOperator{\Orb}{\mathrm{Orb}}
\DeclareMathOperator{\Id}{\mathrm{Id}}
\DeclareMathOperator{\vspan}{\mathrm{span}}			% Vector span
\DeclareMathOperator{\tr}{\mathrm{tr}}
\DeclareMathOperator{\adj}{\mathrm{adj}}
\DeclareMathOperator{\diag}{\mathrm{diag}}
\DeclareMathOperator{\eq}{\mathrm{eq}}
\DeclareMathOperator{\coeq}{\mathrm{coeq}}
\DeclareMathOperator{\coker}{\mathrm{coker}}
\DeclareMathOperator{\dom}{\mathrm{dom}}
\DeclareMathOperator{\cod}{\mathrm{codom}}
\DeclareMathOperator{\im}{\mathrm{im}}
\DeclareMathOperator{\Dim}{\mathrm{dim}}
\DeclareMathOperator{\codim}{\mathrm{codim}}
\DeclareMathOperator{\Sym}{\mathrm{Sym}}
\DeclareMathOperator{\lcm}{\mathrm{lcm}}
\DeclareMathOperator{\Inn}{\mathrm{Inn}}
\DeclareMathOperator{\sgn}{sgn}						% sgn operator
\DeclareMathOperator{\intr}{\text{int}}             % Interior
\DeclareMathOperator{\co}{\mathrm{co}}				% dual/convex Hull
\DeclareMathOperator{\Ann}{\mathrm{Ann}}
\DeclareMathOperator{\Tor}{\mathrm{Tor}}


% misc symbols
\newcommand{\divides}{\big\lvert}
\newcommand{\grad}{\nabla}
\newcommand{\veps}{\varepsilon}						% Preferred epsilon
\newcommand{\vphi}{\varphi}
\newcommand{\del}{\partial}							% Differential/Boundary
\renewcommand{\emptyset}{\text{\O}}					% Traditional emptyset symbol
\newcommand{\tril}{\triangleleft}					% Quandle operation
\newcommand{\nabt}{\widetilde{\nabla}}				% Contravariant derivative
\newcommand{\later}{$\textcolor{red}{\blacksquare}$}% Laziness indicator

% misc
\mathchardef\mhyphen="2D							% mathomode hyphen
\renewcommand{\mod}[1]{\ (\mathrm{mod}\ #1)}
\renewcommand{\bar}[1]{\overline{#1}}				% Closure/conjugate
\renewcommand\qedsymbol{$\blacksquare$} 			% Changes default qed in proof environment
%%%%% raised chi
\DeclareRobustCommand{\rchi}{{\mathpalette\irchi\relax}}
\newcommand{\irchi}[2]{\raisebox{\depth}{$#1\chi$}}
\newcommand\concat{+\kern-1.3ex+\kern0.8ex}

% Arrows
\newcommand{\weak}{\rightharpoonup}					% Weak convergence
\newcommand{\weakstar}{\overset{*}{\rightharpoonup}}% Weak-star convergence
\newcommand{\inclusion}{\hookrightarrow}			% Inclusion/injective map
\renewcommand{\natural}{\twoheadrightarrow}				% Natural map

% Environments
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
%\newtheorem{lem}[thm]{Lemma}
\newtheorem{lem}{Lemma}
\newtheorem*{lems}{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}{Proposition}
\newtheorem*{claim}{Claim}
\newtheorem*{cors}{Corollary}
\newtheorem*{props}{Proposition}
\newtheorem*{conj}{Conjecture}

\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem*{defns}{Definition}
\newtheorem{exm}{Example}[section]
\newtheorem{exer}{Exercise}[section]

\theoremstyle{remark}
\newtheorem*{rem}{Remark}

\newtheorem*{solnx}{Solution}
\newenvironment{soln}
    {\pushQED{\qed}\renewcommand{\qedsymbol}{$\Diamond$}\solnx}
    {\popQED\endsolnx}%

% Macros
\newcommand{\restr}[1]{_{\mkern 1mu \vrule height 2ex\mkern2mu #1}}
\newcommand{\Upushout}[5]{
    \begin{tikzcd}[ampersand replacement = \&]
    \&#2\ar[rd,"\iota_{#2}"]\ar[rrd,bend left,"f"]\&\&\\
    #1\ar[ur,"#4"]\ar[dr,"#5"]\&\&#2\oplus_{#1} #3\ar[r,dashed,"\vphi"]\&Z\\
    \&#3\ar[ur,"\iota_{#3}"']\ar[rru,bend right,"g"']\&\&
    \end{tikzcd}
}
\newcommand{\exactshort}[5]{
		\begin{tikzcd}[ampersand replacement = \&]
			0\ar[r]\&#1\ar[r,"#2"]\& #3 \ar[r,"#4"]\& #5 \ar[r]\&0
		\end{tikzcd}
}
\newcommand{\product}[6]{
		\begin{tikzcd}[ampersand replacement = \&]
			#1 \& #2 \ar[l,"#4"'] \\
			#3 \ar[u,"#5"] \ar[ur,"#6"']
		\end{tikzcd}
}
\newcommand{\coproduct}[6]{
		\begin{tikzcd}[ampersand replacement = \&]
			#1 \ar[r,"#4"] \ar[d,"#5"'] \& #2 \ar[dl,"#6"] \\
			#3
		\end{tikzcd}
}
%%%%%%%%%%%% PAGE FORMATTING %%%%%%%%%

\usepackage{geometry}
    \geometry{
		left=15mm,
		right=15mm,
		top=15mm,
		bottom=15mm	
		}

\usepackage{color} % to do: change to xcolor
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily,columns=fullflexible,keepspaces=true
}
\usepackage{setspace}
\usepackage{setspace}
\usepackage{mdframed}
\usepackage{booktabs}